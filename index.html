<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=0" />
		<title>MongoDB_Log</title>
		<style>
			.class___line_head {
				margin-left : 2em;
			}
			.command {
				background-color : black;
				color : yellow;
				padding : 10px;
			}
		</style>
		<script>
		</script>
	</head>
	<body>
		<article>
			<header>
				
			</header>
			<section>
				<h2>install mongodb node.js driver</h2>
				<p class="command">
					npm install mongodb --save
				</p>
			</section>
			<section>
				<h2>start mongodb server</h2>
				<p>
					see the
					<a target="_blank" href="https://docs.mongodb.com/manual/reference/program/mongod/">Reference > MongoDB Package Components > mongod</a>
					<br/>
					<span class="class___line_head"></span>--config &lt;filename&gt;, -f &lt;filename&gt;
					<br/>
					<span class="class___line_head"></span><span class="class___line_head"></span>Specifies a configuration file for runtime configuration options. The configuration file is the preferred method for runtime configuration of mongod. The options are equivalent to the command-line configuration options. See Configuration File Options for more information.
				</p>
			</section>
			<section>
				<h2>查看当前数据库名称</h2>
				<p class="command">
					db
				</p>
				or
				<p class="command">
					db.getName();
				</p>
				output :
				<p class="command">
					test
				</p>
			</section>
			<section>
				<h2>数据库相关帮助</h2>
				<p class="command">
					db.help();
				</p>
			</section>
			<section>
				<h2>查看所有数据库</h2>
				<p class="command">
					show dbs
				</p>
				output :
				<p class="command">
					admin   0.000GB
					<br/>
					config  0.000GB
					<br/>
					local   0.000GB
				</p>
			</section>
			<section>
				<h2>切换或创建数据库</h2>
				当制定名称的数据库不存在时便自动创建
				<p class="command">
					use shell_test
				</p>
				output :
				<p class="command">
					switched to db shell_test
				</p>
			</section>
			<section>
				<h2>删除数据库</h2>
				<p class="command">
					use dbname;
					<br/>
					db.dropDatabase();
				</p>
				先选择使用要删除的数据库, 在删除当前数据库
			</section>
			<section>
				<h2>查看当前数据库的统计信息</h2>
				<p class="command">
					db.stats();
				</p>
				output :
				<p class="command">
					{
					<br/>
					<span class="class___line_head"></span>"db" : "test",
					<br/>
					<span class="class___line_head"></span>"collections" : 0,
					<br/>
					<span class="class___line_head"></span>"views" : 0,
					<br/>
					<span class="class___line_head"></span>"objects" : 0,
					<br/>
					<span class="class___line_head"></span>"avgObjSize" : 0,
					<br/>
					<span class="class___line_head"></span>"dataSize" : 0,
					<br/>
					<span class="class___line_head"></span>"storageSize" : 0,
					<br/>
					<span class="class___line_head"></span>"numExtents" : 0,
					<br/>
					<span class="class___line_head"></span>"indexes" : 0,
					<br/>
					<span class="class___line_head"></span>"indexSize" : 0,
					<br/>
					<span class="class___line_head"></span>"fileSize" : 0,
					<br/>
					<span class="class___line_head"></span>"fsUsedSize" : 0,
					<br/>
					<span class="class___line_head"></span>"fsTotalSize" : 0,
					<br/>
					<span class="class___line_head"></span>"ok" : 1
					<br/>
					}
				</p>
			</section>
			<section>
				<h2>查看数据库服务的版本</h2>
				<p class="command">
					db.version();
				</p>
				output :
				<p class="command">
					4.0.7
				</p>
			</section>
			<section>
				<h2>查看所有数据库服务的链接地址</h2>
				<p class="command">
					db.getMongo();
				</p>
				output :
				<p class="command">
					connection to 127.0.0.1:27017
				</p>
			</section>
			<section>
				<h2>查看当前数据库中的集合名称</h2>
				<p class="command">
					show collections;
				</p>
				or
				<p class="command">
					db.getCollectionNames();
				</p>
			</section>
			<section>
				<h2>使用集合</h2>
				<p class="command">
					db.getCollection("collection_name");
				</p>
				or
				<p class="command">
					db.collection_name
				</p>
				当集合名称为全数字时只能使用第1种形式, 第2种形式会报错
			</section>
			<section>
				<h2>查看当前集合中的文档数</h2>
				<p class="command">
					db.getCollection("collection_name").count;
				</p>
				or
				<p class="command">
					db.collection_name.count();
				</p>
			</section>
			<section>
				<h2>创建集合</h2>
				<p class="command">
					db.createCollection("collection_name", option);
				</p>
				or
				<p class="command">
					db.collection_name;
				</p>
				第2种形式为当存在便使用当不存在时便直接创建, 但当创建固定容量集合或创建名称为全数字的集合时只能使用第1种形式, 当不是创建固定容量集合时第1种形式中的option为可选项不用给出
			</section>
			<section>
				<h2>集合重命名</h2>
				<p class="command">
					db.getCollection("collection_name").renameCollection("collection_new_name");
				</p>
				or
				<p class="command">
					db.collection_name.renameCollection("collection_new_name");
				</p>
			</section>
			<section>
				<h2>删除集合</h2>
				<p class="command">
					db.getCollection("collection_name").drop();
				</p>
				or
				<p class="command">
					db.collection_name.drop();
				</p>
			</section>
		</article>
	</body>
</html>
